/**
* Copyright (c) 2017-present, Facebook, Inc. All rights reserved.
*
* You are hereby granted a non-exclusive, worldwide, royalty-free license to use,
* copy, modify, and distribute this software in source code or binary form for use
* in connection with the web services and APIs provided by Facebook.
*
* As with any software that integrates with the Facebook platform, your use of
* this software is subject to the Facebook Platform Policy
* [http://developers.facebook.com/policy/]. This copyright notice shall be
* included in all copies or substantial portions of the software.
*
* THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
* IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS
* FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR
* COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER
* IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN
* CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
*/

fbq.version="2.7.23";
fbq.pendingConfigs=["global_config"];
(function(a,b,c,d){var e={exports:{}},f=e.exports;(function(){var g=a.fbq;g.execStart=a.performance&&a.performance.now&&a.performance.now();if(!function(){var o=a.postMessage||function(){};if(!g){o({action:"FB_LOG",logType:"Facebook Pixel Error",logMessage:"Pixel code is not installed correctly on this page"},"*");if("error"in console)console.error("Facebook Pixel Error: Pixel code is not installed correctly on this page");return false}return true}())return;"use strict";if(!g.__fbeventsModules){g.__fbeventsModules={};g.__fbeventsResolvedModules={};g.getFbeventsModules=function(o){if(!g.__fbeventsResolvedModules[o])g.__fbeventsResolvedModules[o]=g.__fbeventsModules[o]();return g.__fbeventsResolvedModules[o]};g.fbIsModuleLoaded=function(o){return!!g.__fbeventsModules[o]};g.ensureModuleRegistered=function(o,e){if(!g.fbIsModuleLoaded(o))g.__fbeventsModules[o]=e}}g.ensureModuleRegistered("SignalsFBEventsPlugin",function(){return function(a,b,c,d){var e={exports:{}},f=e.exports;(function(){"use strict";function h(n){this.plugin=n;this.__fbEventsPlugin=1;return this}e.exports=h})();return e.exports}(a,b,c,d)});g.ensureModuleRegistered("undefined",function(){return undefined});"use strict";var h=g.getFbeventsModules("SignalsFBEventsPlugin"),i={AUTO_CONFIG_OPT_OUT:1<<0,AUTO_CONFIG:1<<1,CONFIG_LOADING:1<<2,SUPPORTS_DEFINE_PROPERTY:1<<3,SUPPORTS_SEND_BEACON:1<<4,HAS_INVALIDATED_PII:1<<5},j=false;function k(){try{Object.defineProperty({},"test",{})}catch(o){return false}return true}function l(){return!!(a.navigator&&a.navigator.sendBeacon)}function m(o,p){return o?p:0}var n=new h(function(g,o){if(j)return;var p={};g.on("pii_invalidated",function(q){if(q!=null)p[typeof q==="string"?q:q.id]=true});g.on("getCustomParameters",function(q){if(q!=null){var r=o.optIns,s=m(r.isOptedOut(q.id,"AutomaticSetup"),i.AUTO_CONFIG_OPT_OUT),t=m(r.isOptedIn(q.id,"AutomaticSetup"),i.AUTO_CONFIG),u=m(g.disableConfigLoading!==true,i.CONFIG_LOADING),v=m(k(),i.SUPPORTS_DEFINE_PROPERTY),w=m(l(),i.SUPPORTS_SEND_BEACON),x=m(q!=null&&p[q.id],i.HAS_INVALIDATED_PII),y=s|t|u|v|w|x;return{o:y}}return{}});j=true});n.OPTIONS=i;e.exports=n;if(g.registerPlugin)g.registerPlugin("fbevents.plugins.opttracking",e.exports);g.ensureModuleRegistered("fbevents.plugins.opttracking",function(){return e.exports})})();return e.exports})(window,document,location,history);
(function(a,b,c,d){var e={exports:{}},f=e.exports;(function(){var g=a.fbq;g.execStart=a.performance&&a.performance.now&&a.performance.now();if(!function(){var B=a.postMessage||function(){};if(!g){B({action:"FB_LOG",logType:"Facebook Pixel Error",logMessage:"Pixel code is not installed correctly on this page"},"*");if("error"in console)console.error("Facebook Pixel Error: Pixel code is not installed correctly on this page");return false}return true}())return;"use strict";var aa=typeof Symbol==="function"&&typeof (typeof Symbol==="function"?Symbol.iterator:"@@iterator")==="symbol"?function(B){return typeof B}:function(B){return B&&typeof Symbol==="function"&&B.constructor===Symbol&&B!==(typeof Symbol==="function"?Symbol.prototype:"@@prototype")?"symbol":typeof B};function ba(B){if(Array.isArray(B)){for(var C=0,D=Array(B.length);C<B.length;C++)D[C]=B[C];return D}else return Array.from(B)}if(!g.__fbeventsModules){g.__fbeventsModules={};g.__fbeventsResolvedModules={};g.getFbeventsModules=function(B){if(!g.__fbeventsResolvedModules[B])g.__fbeventsResolvedModules[B]=g.__fbeventsModules[B]();return g.__fbeventsResolvedModules[B]};g.fbIsModuleLoaded=function(B){return!!g.__fbeventsModules[B]};g.ensureModuleRegistered=function(B,e){if(!g.fbIsModuleLoaded(B))g.__fbeventsModules[B]=e}}g.ensureModuleRegistered("SignalsParamList",function(){return function(a,b,c,d){var e={exports:{}},f=e.exports;(function(){"use strict";var B="deep",C="shallow";function D(F){if(typeof JSON==="undefined"||JSON===null||!JSON.stringify)return Object.prototype.toString.call(F);else return JSON.stringify(F)}function E(F){if(F===null||F===undefined)return true;var G=typeof F==="undefined"?"undefined":aa(F);return G==="number"||G==="boolean"||G==="string"}function h(F){this._params=[];this._piiTranslator=F}h.ERROR_PII_WITH_NO_TRANSLATOR="Provide a PII Translation function in order to append PII data to the ParamList.";h.prototype.addRange=function(F){var G=this;F.each(function(H,I){return G.append(H,I)})};h.prototype.containsKey=function(F){for(var G=0;G<this._params.length;G++)if(this._params[G].name===F)return true;return false};h.prototype.get=function(F){var G=F;for(var H=0;H<this._params.length;H++)if(this._params[H].name===G)return this._params[H].value;return null};h.prototype.append=function(F,G,H){this._append(encodeURIComponent(F),G,B,H);return this};h.prototype.appendHash=function(F,G){for(var H in F)if(Object.prototype.hasOwnProperty.call(F,H))this._append(H,F[H],B,G);return this};h.fromHash=function(F,G){return new h(G).appendHash(F)};h.prototype._append=function(F,G,H,I){if(E(G))this._appendPrimitive(F,G,I);else if(H===B)this._appendObject(F,G,I);else this._appendPrimitive(F,D(G),I)};h.prototype._translateValue=function(F,G,H){if(typeof G==="boolean")return G?"true":"false";if(!H)return""+G;if(!this._piiTranslator)throw new Error(h.ERROR_PII_WITH_NO_TRANSLATOR);return this._piiTranslator(F,""+G)};h.prototype._appendPrimitive=function(F,G,H){if(G!=null){var I=this._translateValue(F,G,H);if(I!=null)this._params.push({name:F,value:I})}};h.prototype._appendObject=function(F,G,H){var I=null;for(var J in G)if(Object.prototype.hasOwnProperty.call(G,J)){var K=F+"["+encodeURIComponent(J)+"]";try{this._append(K,G[J],C,H)}catch(L){if(I==null)I=L}}if(I!=null)throw I};h.prototype.each=function(F){for(var G=0;G<this._params.length;G++){var H=this._params[G],I=H.name,J=H.value;F(I,J)}};h.prototype.toQueryString=function(){var F=[];this.each(function(G,H){F.push(G+"="+encodeURIComponent(H))});return F.join("&")};h.prototype.toFormData=function(){var F=new FormData();this.each(function(G,H){F.append(G,H)});return F};e.exports=h})();return e.exports}(a,b,c,d)});g.ensureModuleRegistered("SignalsFBEventsUtils",function(){return function(a,b,c,d){var e={exports:{}},f=e.exports;(function(){"use strict";var B="console",C="error",D="Facebook Pixel Error",E="Facebook Pixel Warning",F="warn",h=g.getFbeventsModules("SignalsParamList"),G=Object.prototype.toString,H=!("addEventListener"in b),I=function I(){},J=a[B]||{},K=a.postMessage||I;function ja(U){return Array.isArray?Array.isArray(U):G.call(U)==="[object Array]"}function la(U){return typeof U==="number"||typeof U==="string"&&/^\d+$/.test(U)}var L={};function r(U){if(Object.prototype.hasOwnProperty.call(L,U.message)===false){L[U.message]=true;q(U)}}function q(U){try{K({action:"FB_LOG",logType:D,logMessage:U.toString()},"*")}catch(V){}try{var W=Math.random();if(W<.01){var X=new h(null);X.append("p","pixel");X.append("v",a.fbq&&a.fbq.version?a.fbq.version:"unknown");X.append("e",U.toString());if(U instanceof Error){X.append("f",U.fileName);X.append("s",U.stackTrace||U.stack)}Qa(X,"https://connect.facebook.net/log/error")}}catch(V){}if(C in J)J[C](D+": "+U.toString())}function M(U){K({action:"FB_LOG",logType:E,logMessage:U},"*");if(F in J)J[F](E+": "+U)}function N(U,V,W){V=H?"on"+V:V;var X=H?U.attachEvent:U.addEventListener,Y=H?U.detachEvent:U.removeEventListener,Z=function Z(){if(Y)Y.call(U,V,Z,false);W()};if(X)X.call(U,V,Z,false)}function O(U,V,W){var X=U[V],Y=ma(W);U[V]=function(){var Z=X.apply(this,arguments);Y.apply(this,arguments);return Z}}var P=Object.prototype.hasOwnProperty,Q=!{toString:null}.propertyIsEnumerable("toString"),R=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],S=R.length;function p(U){if(Object.keys)return Object.keys(U);if((typeof U==="undefined"?"undefined":aa(U))!=="object"&&(typeof U!=="function"||U===null))throw new TypeError("Object.keys called on non-object");var V=[];for(var W in U)if(P.call(U,W))V.push(W);if(Q)for(var X=0;X<S;X++)if(P.call(U,R[X]))V.push(R[X]);return V}function T(U,V){if(Array.prototype.map)return Array.prototype.map.call(U,V);var W=void 0,X=void 0;if(U==null)throw new TypeError(" array is null or not defined");var Y=Object(U),Z=Y.length>>>0;if(typeof V!=="function")throw new TypeError(V+" is not a function");W=new Array(Z);X=0;while(X<Z){var $,Ta;if(X in Y){$=Y[X];Ta=V.call(null,$,X,Y);W[X]=Ta}X++}return W}function Na(U){if(this==null)throw new TypeError("Array.prototype.some called on null or undefined");if(typeof U!=="function")throw new TypeError();var V=Object(this),W=V.length>>>0,X=arguments.length>=2?arguments[1]:void 0;for(var Y=0;Y<W;Y++)if(Y in V&&U.call(X,V[Y],Y,V))return true;return false}function ka(U){return p(U).length===0}function Oa(U){if(this===void 0||this===null)throw new TypeError();var V=Object(this),W=V.length>>>0;if(typeof U!=="function")throw new TypeError();var X=[],Y=arguments.length>=2?arguments[1]:void 0;for(var Z=0;Z<W;Z++)if(Z in V){var $=V[Z];if(U.call(Y,$,Z,V))X.push($)}return X}function o(U){this.items=U==null?[]:U}o.prototype.has=function(U){return Na.call(this.items,function(V){return V===U})};o.prototype.add=function(U){this.items.push(U)};function ma(U){if(typeof U!=="function")return U;return function(){try{return U.apply(this,arguments)}catch(V){Sa.logError(V)}return undefined}}function Pa(U,V){var W=U.toQueryString(),X=V+"?"+W;if(X.length<2048){var Y=new Image();Y.src=X;return true}return false}function Qa(U,V){var W="fb"+Math.random().toString().replace(".",""),X=b.createElement("form");X.method="post";X.action=V;X.target=W;X.acceptCharset="utf-8";X.style.display="none";var Y=!!(a.attachEvent&&!a.addEventListener),Z=Y?'<iframe name="'+W+'">':"iframe",$=b.createElement(Z);$.src="javascript:false";$.id=W;$.name=W;X.appendChild($);N($,"load",function(){U.each(function(W,Ta){var Ua=b.createElement("input");Ua.name=W;Ua.value=Ta;X.appendChild(Ua)});N($,"load",function(){if(X.parentNode)X.parentNode.removeChild(X)});X.submit()});b.body.appendChild(X);return true}function Ra(U,V){if(a.navigator&&a.navigator.sendBeacon){a.navigator.sendBeacon(V,U.toFormData());return true}return false}var Sa={injectMethod:O,isArray:ja,isEmptyObject:ka,isNumber:la,keys:p,listenOnce:N,logError:q,logErrorOnce:r,logWarning:M,makeSafe:ma,map:T,sendGET:Pa,sendPOST:Qa,sendBeacon:Ra,FBSet:o,each:function n(U,V){T.call(this,U,V)},some:function U(V,W){return Na.call(V,W)},filter:function U(V,W){return Oa.call(V,W)}};e.exports=Sa})();return e.exports}(a,b,c,d)});g.ensureModuleRegistered("SignalsEvents",function(){return function(a,b,c,d){var e={exports:{}},f=e.exports;(function(){"use strict";var B=g.getFbeventsModules("SignalsFBEventsUtils"),q=B.logError,p=B.keys,C=0;function j(){this._listeners={}}j.prototype.on=function(E,F){var G=this,H=C++;if(!this._listeners[E])this._listeners[E]={};this._listeners[E][H.toString()]=F;return function(){G._unsubscribe(E,H.toString())}};j.prototype.once=function(E,F){var G=this,H=arguments,I=this.on(E,function(){I();return F.apply(G,H)});return I};j.prototype.trigger=function(E){var F=this;for(var G=arguments.length,H=Array(G>1?G-1:0),I=1;I<G;I++)H[I-1]=arguments[I];if(!this._listeners[E])return[];return p(this._listeners[E]).map(function(J){try{if(!F._listeners[E][J])return[];return F._listeners[E][J].apply(null,H)}catch(K){q(K)}return null})};j.prototype._unsubscribe=function(E,F){var G=this._listeners[E];if(G&&G[F]){delete G[F];if(p(G).length===0)delete this._listeners[E]}};function D(){return new j()}var y=new j(),ha=y.on.bind(y),ia=y.once.bind(y),m=y.trigger.bind(y);e.exports={on:ha,once:ia,trigger:m,instance:y,spawn:D,PixelEvents:j}})();return e.exports}(a,b,c,d)});g.ensureModuleRegistered("SignalsPixelEndpoint",function(){return function(a,b,c,d){var e={exports:{}},f=e.exports;(function(){"use strict";var B=g.getFbeventsModules("SignalsEvents"),C=g.getFbeventsModules("SignalsFBEventsUtils"),D=C.sendGET,E=C.sendPOST,F=C.sendBeacon,h=g.getFbeventsModules("SignalsParamList"),m=B.trigger,G={ENDPOINT:"https://www.facebook.com/tr/"},v=c.href,H=a.top!==a,ta=b.referrer,I=false,J=function J(M){I=M};function K(M,N,O,P){M.append("id",N);M.append("ev",O);M.append("dl",v);M.append("rl",ta);M.append("if",H);M.append("ts",new Date().valueOf());M.append("cd",P);return M}function z(M,N,O,P,Q){var R=new h(Q);K(R,M,N,O);if(P)R.addRange(P);if(I&&F(R,G.ENDPOINT)){m("fired","BEACON",R);return}if(D(R,G.ENDPOINT)){m("fired","GET",R);return}if(E(R,G.ENDPOINT)){m("fired","POST",R);return}throw new Error("No working send method found for this fire.")}function L(M,N,O,P,Q){if(a.navigator&&a.navigator.sendBeacon){var R=new h(Q);K(R,M,N,O);if(P)R.addRange(P);F(R,G.ENDPOINT)}}e.exports={CONFIG:G,sendEvent:z,sendBeaconPII:L,setUseBeacon:J}})();return e.exports}(a,b,c,d)});g.ensureModuleRegistered("SignalsEventValidation",function(){return function(a,b,c,d){var e={exports:{}},f=e.exports;(function(){"use strict";var B=/^[+-]?\d+(\.\d+)?$/,C="number",D="currency_code",E={AED:1,ARS:1,AUD:1,BOB:1,BRL:1,CAD:1,CHF:1,CLP:1,CNY:1,COP:1,CRC:1,CZK:1,DKK:1,EUR:1,GBP:1,GTQ:1,HKD:1,HNL:1,HUF:1,IDR:1,ILS:1,INR:1,ISK:1,JPY:1,KRW:1,MOP:1,MXN:1,MYR:1,NIO:1,NOK:1,NZD:1,PEN:1,PHP:1,PLN:1,PYG:1,QAR:1,RON:1,RUB:1,SAR:1,SEK:1,SGD:1,THB:1,TRY:1,TWD:1,USD:1,UYU:1,VEF:1,VND:1,ZAR:1},F={value:{type:C,isRequired:true},currency:{type:D,isRequired:true}},G={PageView:{},ViewContent:{},Search:{},AddToCart:{},AddToWishlist:{},InitiateCheckout:{},PixelInitialized:{},AddPaymentInfo:{},Purchase:{validationSchema:F},Lead:{},CompleteRegistration:{},CustomEvent:{validationSchema:{event:{isRequired:true}}}},H={agent:true},I=Object.prototype.hasOwnProperty;function J(M,N,O){this.error=null;this.warnings=[];this.eventName=M;this.params=N||{};this.metadata=O}J.prototype.validateMetadata=function(){if(this.metadata){var M=this.metadata.toLowerCase(),N=H[M];if(!N)return this._error("Unsupported metadata argument: "+M)}return this};J.prototype.validateEvent=function(){var M=this.eventName;if(!M)return this;var N=G[M];if(!N){this.warnings.push("You are sending a non-standard event '"+M+"'. The preferred way to send events is using trackCustom. See https://www.facebookmarketingdevelopers.com/pixels/up#sec-custom for more information");return this}var O=N.validationSchema;for(var P in O)if(I.call(O,P)){var Q=O[P];if(Q){if(Q.isRequired&&!I.call(this.params,P))return this._error('Required parameter "'+P+'" is missing for event "'+M+'"');if(Q.type&&typeof Q.type==="string")if(!this._validateParam(P,Q.type))return this._error('Parameter "'+P+'" is invalid for event "'+M+'"')}}return this};J.prototype._validateParam=function(M,N){var O=this.params[M];switch(N){case C:var P=(typeof O==="string"||typeof O==="number")&&B.test(""+O);if(P&&Number(O)<0)this.warnings.push('Parameter "'+M+'" is negative for event "'+(this.eventName?this.eventName:"null")+'"');return P;case D:return typeof O==="string"&&!!E[O.toUpperCase()]}return true};J.prototype._error=function(M){this.error=M;return this};function K(M){return new J(null,null,M).validateMetadata()}function L(M,N){return new J(M,N).validateEvent()}e.exports={validateMetadata:K,validateEvent:L,Validator:J}})();return e.exports}(a,b,c,d)});g.ensureModuleRegistered("SignalsFBEventsOptIn",function(){return function(a,b,c,d){var e={exports:{}},f=e.exports;(function(){"use strict";var B=g.getFbeventsModules("SignalsFBEventsUtils"),n=B.each,C=B.filter,p=B.keys,D=B.some;function E(G){n(p(G),function(H){if(D(G[H],function(I){return Object.prototype.hasOwnProperty.call(G,I)}))throw new Error("Circular subOpts are not allowed. "+H+" depends on another subOpt")})}function F(G){this._opts={};this._subOpts=G||{};E(this._subOpts)}F.prototype._getOpts=function(G){return[].concat(ba(Object.prototype.hasOwnProperty.call(this._subOpts,G)?this._subOpts[G]:[]),[G])};F.prototype._setOpt=function(G,H,I){if(!this._opts[H])this._opts[H]={};this._opts[H][G]=I};F.prototype.optIn=function(G,H){var I=this,J=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;n(this._getOpts(H),function(K){var L=J==true&&I.isOptedOut(G,H);if(!L)I._setOpt(G,K,true)});return this};F.prototype.optOut=function(G,H){var I=this;n(this._getOpts(H),function(J){return I._setOpt(G,J,false)});return this};F.prototype.isOptedIn=function(G,H){return this._opts[H]&&this._opts[H][G]===true};F.prototype.isOptedOut=function(G,H){return this._opts[H]&&this._opts[H][G]===false};F.prototype.listPixelIds=function(G){var H=this;return this._opts[G]?C(p(this._opts[G]),function(I){return H._opts[G][I]}):[]};e.exports=F})();return e.exports}(a,b,c,d)});g.ensureModuleRegistered("SignalsFBEventsPluginPath",function(){return function(a,b,c,d){var e={exports:{}},f=e.exports;(function(){"use strict";var B=/([/]en_US)?[/](fbevents|signals)([.]js|[/])/;function C(){var F=null,G=null,H=b.getElementsByTagName("script");for(var I=0;I<H.length&&!F;I++){var J=H[I].src.split(B);if(J.length>1){F=J[0];G=H[I]}}return{baseURL:F,scriptElement:G}}var D=null;function E(){if(!D)D=C();return D}e.exports={get:E}})();return e.exports}(a,b,c,d)});g.ensureModuleRegistered("SignalsFBEventsFireLock",function(){return function(a,b,c,d){var e={exports:{}},f=e.exports;(function(){"use strict";var B=g.getFbeventsModules("SignalsFBEventsUtils"),n=B.each,p=B.keys;function C(){this._locks={};this._callbacks=[]}C.prototype={lock:function D(E){this._locks[E]=true},release:function D(E){if(Object.prototype.hasOwnProperty.call(this._locks,E)){delete this._locks[E];if(p(this._locks).length===0)n(this._callbacks,function(F){return F(E)})}},onUnlocked:function D(E){this._callbacks.push(E)},isLocked:function D(){return p(this._locks).length>0}};C.global=new C();C.global.lockPlugin=function(D){this.lock("plugin:"+D)};C.global.releasePlugin=function(D){this.release("plugin:"+D)};C.global.lockConfig=function(D){this.lock("config:"+D)};C.global.releaseConfig=function(D){this.release("config:"+D)};e.exports=C})();return e.exports}(a,b,c,d)});g.ensureModuleRegistered("SignalsFBEventsConstants",function(){return function(a,b,c,d){var e={exports:{}},f=e.exports;(function(){"use strict";e.exports={ERRORS:{PREFIX:function B(C,D){if(C!=null)return"[ID:"+(typeof C==="string"?C:C.id)+"] "+D;else return D},PII_INVALID:function B(C,D){return"An invalid "+C+" was specified for '"+D+"'. This data will not be sent with any events for this Pixel."}}}})();return e.exports}(a,b,c,d)});g.ensureModuleRegistered("SignalsFBEventsFBQ",function(){return function(a,b,c,d){var e={exports:{}},f=e.exports;(function(){"use strict";var B=g.getFbeventsModules("SignalsFBEventsOptIn"),h=g.getFbeventsModules("SignalsParamList"),i=g.getFbeventsModules("SignalsPixelEndpoint"),da=g.getFbeventsModules("SignalsFBEventsPluginPath"),k=g.getFbeventsModules("SignalsFBEventsUtils"),l=g.getFbeventsModules("SignalsEventValidation"),ea=g.getFbeventsModules("SignalsFBEventsFireLock"),fa=g.getFbeventsModules("SignalsFBEventsConstants"),ga=fa.ERRORS,n=k.each,p=k.keys,q=k.logError,r=k.logErrorOnce,C=k.map,D=k.some,E={Dwell:true,InferredEvents:true,Microdata:true,FPCookie:true,Sessions:true,TimeSpent:true,Interaction:true},F=["InferredEvents","Microdata"],G={AutomaticSetup:F},H={Dwell:["dwell"],FPCookie:["fpcookie"],InferredEvents:["inferredevents","identity"],Microdata:["microdata","identity"],Sessions:["sessions"],TimeSpent:["timespent"],Interaction:["interaction","timespent"]};function I(M){return!!(E[M]||G[M])}function J(M,N){var O=da.get();if(typeof O.baseURL!="string"||!(O.scriptElement&&O.scriptElement.parentNode))throw new Error("fbevents script element not found.");var P=O.baseURL+"/signals/config/"+M+"?v="+N,Q=b.createElement("script");Q.src=P;Q.async=true;if(O.scriptElement&&O.scriptElement.parentNode)O.scriptElement.parentNode.insertBefore(Q,O.scriptElement)}var K={VALID_FEATURES:E,optIn:function M(N,O){var P=this,Q=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;if(typeof O!=="string"||!I(O))throw new Error('Invalid Argument: "'+O+'" is not a valid opt-in feature');if(I(O)){this.optIns.optIn(N,O,Q);n([O].concat(ba(G[O]||[])),function(R){if(H[R])n(H[R],function(S){return P.fbq.loadPlugin(S)})})}return this},optOut:function M(N,O){this.optIns.optOut(N,O);return this},trackSingleCustom:function M(N,O,P){var Q=typeof N==="string"?N:N.id,R=this.getDefaultSendData(Q,O);R.customData=P;this.fire(R,false);return this},enqueue:function M(){for(var N=arguments.length,O=Array(N),P=0;P<N;P++)O[P]=arguments[P];this.queue.append(O);return this},_validateSend:function M(N,O){if(!N.eventName||!N.eventName.length)throw new Error("Event name not specified");if(!N.pixelId||!N.pixelId.length)throw new Error("PixelId not specified");if(N.set)n(C(p(N.set),function(Q){return l.validateMetadata(Q)}),function(Q){if(Q.error)throw new Error(Q.error);if(Q.warnings.length)n(Q.warnings,k.logWarning)});if(O){var P=l.validateEvent(N.eventName,N.customData||{});if(P.error)throw new Error(P.error);if(P.warnings&&P.warnings.length)n(P.warnings,k.logWarning)}return this},fire:function M(N){var O=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;this._validateSend(N,O);if(N.userData&&p(N.userData).length>0&&!this.fbq.loadPlugin("identity")){this.enqueue("fire",N);return this}var P=new h(this.fbq.piiTranslator);try{P.append("ud",N.userData,true)}catch(Q){this.fbq.trigger("pii_invalidated",N.pixelId,Q.message);r(new Error(ga.PREFIX(N.pixelId,Q.message)))}P.append("v",this.fbq.version);N.set&&N.set.agent&&P.append("a",N.set.agent);var R=this.fbq.trigger("getCustomParameters",{id:N.pixelId});n(R,function(S){return n(p(S),function(T){if(P.containsKey(T))q(new Error("Custom parameter "+T+" has already been specified."));else P.append(T,S[T])})});i.sendEvent(N.pixelId,N.eventName,N.customData,P);return this},callMethod:function wa(M){var N=M[0],O=Array.prototype.slice.call(M,1);if(typeof this[N]==="function")try{this[N].apply(this,O)}catch(P){q(P)}else q(new Error("Invalid FBQ method "+N))},getDefaultSendData:function M(N,O){var P=this.getPixel(N),Q={pixelId:N,eventName:O};if(P){if(P.userData)Q.userData=P.userData;if(P.agent)Q.set={agent:P.agent};else if(this.fbq.agent)Q.set={agent:this.fbq.agent}}return Q},getOptedInPixels:function M(N){var O=this;return this.optIns.listPixelIds(N).map(function(P){return O.pixelsByID[P]})},ensurePixel:function M(N){if(!Object.prototype.hasOwnProperty.call(this.pixelsByID,N))throw new Error('Pixel "'+N+'" not found')},getPixel:function M(N){this.ensurePixel(N);return this.pixelsByID[N]},loadConfig:function M(N){if(this.fbq.disableConfigLoading||Object.prototype.hasOwnProperty.call(this.configsLoaded,N))return;this.locks.lockConfig(N);if(!this.fbq.pendingConfigs||D(this.fbq.pendingConfigs,function(O){return O===N})==false)J(N,this.VERSION)},configLoaded:function M(N){this.configsLoaded[N]=true;this.locks.releaseConfig(N);this.fbq.trigger("configLoaded",N)}};function L(g,x){var M=this;this.VERSION=g.version;this.pixelsByID=x;this.fbq=g;this.optIns=new B(G);this.configsLoaded={};this.locks=ea.global;n(g.pendingConfigs||[],function(N){return M.locks.lockConfig(N)})}L.prototype=K;e.exports=L})();return e.exports}(a,b,c,d)});g.ensureModuleRegistered("undefined",function(){return undefined});"use strict";var g=a.fbq;g.execStart=a.performance&&typeof a.performance.now==="function"?a.performance.now():null;var h=g.getFbeventsModules("SignalsParamList"),i=g.getFbeventsModules("SignalsPixelEndpoint"),j=g.getFbeventsModules("SignalsEvents"),k=g.getFbeventsModules("SignalsFBEventsUtils"),l=g.getFbeventsModules("SignalsEventValidation"),ca=g.getFbeventsModules("SignalsFBEventsFBQ"),da=g.getFbeventsModules("SignalsFBEventsPluginPath"),ea=g.getFbeventsModules("SignalsFBEventsFireLock"),fa=g.getFbeventsModules("SignalsFBEventsConstants"),ga=fa.ERRORS,ha=j.on,ia=j.once,m=j.trigger,n=k.each,o=k.FBSet,ja=k.isArray,ka=k.isEmptyObject,la=k.isNumber,p=k.keys,q=k.logError,r=k.logErrorOnce,ma=k.makeSafe,s=ea.global;function na(B){return g.getFbeventsModules(B)}function oa(B){return g.fbIsModuleLoaded(B)}var t={},u=-1,pa=Array.prototype.slice,qa=Object.prototype.hasOwnProperty,v=c.href,ra=false,sa=false,w=[],x={},ta=b.referrer,ua={PageView:new o(),PixelInitialized:new o()},y=new ca(g,x);function va(B){for(var C in B)if(qa.call(B,C))this[C]=B[C];return this}function wa(B){try{if(s.isLocked()){g.queue.push(arguments);return}var C=pa.call(arguments),D=C.length===1&&ja(C[0]);if(D)C=C[0];if(typeof C[0]!=="string")q(new Error("The first argument to fbq must be a method name."));if(B.slice(0,6)==="report"){var E=B.slice(6);if(E==="CustomEvent"){E=(C[1]||{}).event||E;C=["trackCustom",E].concat(C.slice(1))}else C=["track",E].concat(C.slice(1))}B=C.shift();switch(B){case"addPixelId":ra=true;ya.apply(this,C);break;case"init":sa=true;ya.apply(this,C);break;case"set":xa.apply(this,C);break;case"track":if(la(C[0])){Da.apply(this,C);break}if(D){Ca.apply(this,C);break}Ba.apply(this,C);break;case"trackCustom":Ca.apply(this,C);break;case"send":Ea.apply(this,C);break;case"on":ha.apply(null,C);break;case"loadPlugin":A(C[0]);break;default:y.callMethod(arguments);break}}catch(F){q(F)}}function xa(B){for(var C=arguments.length,D=Array(C>1?C-1:0),E=1;E<C;E++)D[E-1]=arguments[E];switch(B){case"endpoint":var F=D[0];if(typeof F!=="string")throw new Error("endpoint value must be a string");i.CONFIG.ENDPOINT=F;break;case"autoConfig":var G=D[0],H=D[1],I=G===true||G==="true"?"optIn":"optOut";if(typeof H!=="string")throw new Error("Invalid pixelID supplied to set autoConfig.");y.callMethod([I,H,"AutomaticSetup"]);break;default:var J=D[0],K=D[1];if(typeof B!=="string")throw new Error("The metadata setting provided in the 'set' call is invalid.");if(typeof J!=="string")throw new Error("The metadata value must be a string.");if(typeof K!=="string")throw new Error("Invalid pixelID supplied to set call.");Aa(B,J,K);break}}g._initHandlers=[];g._initsDone={};function ya(B,C,D){u=u===-1?Date.now():u;if(qa.call(x,B)){if(C&&ka(x[B].userData)){x[B].userData=C;A("identity")}else k.logError(new Error("Duplicate Pixel ID: "+B));return}var E={agent:D?D.agent:null,id:B,userData:C||{},eventCount:0};w.push(E);x[B]=E;if(C!=null)A("identity");za();y.loadConfig(B)}function za(){g._initHandlers.forEach(function(B,C){if(!g._initsDone[C])g._initsDone[C]={};w.forEach(function(D){if(!g._initsDone[C][D.id]){g._initsDone[C][D.id]=true;B(D)}})})}function Aa(B,C,D){var E=l.validateMetadata(B);if(E.error)k.logError(E.error);if(E.warnings)for(var F=0;F<E.warnings.length;F++)k.logWarning(E.warnings[F]);if(qa.call(x,D)){for(var G=0,H=w.length;G<H;G++)if(w[G].id===D){w[G][B]=C;break}}else k.logWarning("Trying to set argument "+C+(" for uninitialized pixel ID "+D))}function Ba(B,C){C=C||{};var D=l.validateEvent(B,C);if(D.error)k.logError(D.error);if(D.warnings)for(var E=0;E<D.warnings.length;E++)k.logWarning(D.warnings[E]);if(B==="CustomEvent"&&typeof C.event==="string")B=C.event;Ca.call(this,B,C)}function Ca(B,C){for(var D=0,E=w.length;D<E;D++){var F=w[D];if(!(B==="PageView"&&this.allowDuplicatePageViews)&&Object.prototype.hasOwnProperty.call(ua,B)&&ua[B].has(F.id))continue;z(F,B,C);if(Object.prototype.hasOwnProperty.call(ua,B))ua[B].add(F.id)}}function Da(B,C){z(null,B,C)}function Ea(B,C){for(var D=0,E=w.length;D<E;D++)z(w[D],B,C)}function Fa(B){var C=new h(g.piiTranslator);try{C.append("ud",B&&B.userData||{},true)}catch(D){m("pii_invalidated",B,D.message);r(new Error(ga.PREFIX(B,D.message)))}C.append("v",g.version);C.append("a",B&&B.agent?B.agent:g.agent);if(B){C.append("ec",B.eventCount);B.eventCount++}var E=m("getCustomParameters",B);n(E,function(F){return n(p(F),function(G){if(C.containsKey(G))q(new Error("Custom parameter "+G+" has already been specified."));else C.append(G,F[G])})});C.append("it",u);return C}function z(B,C,D){i.sendEvent(B?B.id:null,C,D,Fa(B))}function Ga(){while(g.queue.length&&!s.isLocked()){var B=g.queue.shift();wa.apply(g,B)}}function Ha(B){return"fbevents.plugins."+B}function A(B){if(/^[a-zA-Z]\w+$/.test(B)===false){q(new Error("'"+B+"' is an invalid plugin name."));return true}var C=Ha(B);if(t[C])return true;if(oa(C)){Ia(C,na(C));return true}var D=da.get();if(D.baseURL&&D.scriptElement){var E=D.baseURL+"/signals/plugins/"+B+".js?v="+g.version;if(!t[C]){s.lockPlugin(C);var F=b.createElement("script");F.src=E;F.async=true;if(D.scriptElement&&D.scriptElement.parentNode)D.scriptElement.parentNode.insertBefore(F,D.scriptElement)}}return false}function Ia(B,C){if(Object.prototype.hasOwnProperty.call(t,B))return;if(qa.call(C,"__fbEventsPlugin")&&C.__fbEventsPlugin===1){t[B]=C;t[B].plugin(g,y);m("pluginLoaded",B)}s.releasePlugin(B)}s.onUnlocked(function(){Ga()});if(g.pixelId){ra=true;ya(g.pixelId)}if(ra&&sa||a.fbq!==a._fbq)k.logWarning("Multiple pixels with conflicting versions were detected on this page");if(w.length>1)k.logWarning("Multiple different pixels were detected on this page");function Ja(){if(g.disablePushState===true)return;if(!d.pushState||!d.replaceState)return;var B=ma(function(){ta=v;v=c.href;if(v===ta)return;var C=new va({allowDuplicatePageViews:true});wa.call(C,"trackCustom","PageView")});k.injectMethod(d,"pushState",B);k.injectMethod(d,"replaceState",B);a.addEventListener("popstate",B,false)}ia("fired",function(){return Ja()});function Ka(B){g._initHandlers.push(B);za()}function La(){return{pixelInitializationTime:u,pixels:w}}function Ma(g){g.instance=y;g.callMethod=wa;g.loadPlugin=A;g.registerPlugin=Ia;g._initHandlers=[];g._initsDone={};g.on=ha;g.once=ia;g.send=Ea;g.trigger=m;g.getEventCustomParameters=Fa;g.addInitHandler=Ka;g.getState=La;g.init=ya;g.set=xa}Ma(a.fbq);Ga();e.exports={addInitHandler:function Ka(B){g._initHandlers.push(B);za()},doExport:Ma,getState:La,getEventCustomParameters:Fa,sendEvent:z,loadPlugin:A};m("execEnd");m("initialized",g);if(g.registerPlugin)g.registerPlugin("fbevents",e.exports);g.ensureModuleRegistered("fbevents",function(){return e.exports})})();return e.exports})(window,document,location,history);
fbq.registerPlugin("global_config", {__fbEventsPlugin: 1, plugin: function(fbq, instance) { fbq.loadPlugin("opttracking");instance.configLoaded("global_config"); }});